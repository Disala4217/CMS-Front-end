<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>CMS - Student Dashboard</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <style>
        .dashboard-card {
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            height: 100%;
            transition: transform 0.3s ease;
        }
        
        .dashboard-card:hover {
            transform: translateY(-5px);
        }
        
        .dashboard-card-header {
            background-color: #06BBCC;
            color: white;
            padding: 15px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dashboard-card-body {
            padding: 20px;
            background-color: white;
        }
        
        .dashboard-icon {
            font-size: 24px;
            margin-right: 10px;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: #dc3545;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }
        
        .timetable-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .timetable-time {
            min-width: 100px;
            font-weight: 600;
            color: #06BBCC;
        }
        
        .timetable-subject {
            flex-grow: 1;
        }
        
        .timetable-location {
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .announcement-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .announcement-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .announcement-date {
            font-size: 0.8rem;
            color: #6c757d;
            margin-bottom: 5px;
        }
        
        .announcement-content {
            font-size: 0.9rem;
        }
        
        .assignment-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .assignment-info {
            flex-grow: 1;
        }
        
        .assignment-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .assignment-course {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .assignment-due {
            font-size: 0.8rem;
            color: #dc3545;
            font-weight: 600;
        }
        
        .assignment-status {
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #664d03;
        }
        
        .status-submitted {
            background-color: #d1e7dd;
            color: #0f5132;
        }
        
        .status-late {
            background-color: #f8d7da;
            color: #842029;
        }
        
        .event-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .event-date {
            min-width: 60px;
            text-align: center;
            padding: 5px;
            background-color: #06BBCC;
            color: white;
            border-radius: 5px;
            margin-right: 15px;
        }
        
        .event-day {
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .event-month {
            font-size: 0.8rem;
            text-transform: uppercase;
        }
        
        .event-info {
            flex-grow: 1;
        }
        
        .event-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .event-time {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .event-location {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .discussion-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .discussion-item:hover {
            background-color: #f8f9fa;
            padding: 10px;
            margin: -10px 0 5px -10px;
            border-radius: 5px;
        }
        
        .discussion-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .discussion-title {
            font-weight: 600;
        }
        
        .discussion-replies {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .discussion-course {
            font-size: 0.8rem;
            color: #06BBCC;
            margin-bottom: 5px;
        }
        
        .discussion-preview {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 20px;
            border: 3px solid #06BBCC;
        }
        
        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .profile-info h5 {
            margin-bottom: 5px;
        }
        
        .profile-info p {
            margin-bottom: 5px;
            color: #6c757d;
        }
        
        .profile-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            flex-grow: 1;
            margin: 0 5px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #06BBCC;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .welcome-banner {
            background: linear-gradient(rgba(24, 29, 56, .7), rgba(24, 29, 56, .7)), url('img/carousel-1.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .welcome-banner h2 {
            margin-bottom: 10px;
        }
        
        .welcome-banner p {
            margin-bottom: 0;
            opacity: 0.9;
        }
        
        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .quick-action-btn {
            flex-grow: 1;
            text-align: center;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 10px;
            transition: all 0.3s;
            text-decoration: none;
            color: #343a40;
            min-width: 120px;
        }
        
        .quick-action-btn:hover {
            background-color: #06BBCC;
            color: white;
        }
        
        .quick-action-icon {
            font-size: 24px;
            margin-bottom: 10px;
            color: #06BBCC;
        }
        
        .quick-action-btn:hover .quick-action-icon {
            color: white;
        }
        
        .quick-action-label {
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .calendar-container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .calendar-month {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .calendar-nav {
            display: flex;
            gap: 10px;
        }
        
        .calendar-nav-btn {
            background-color: #f8f9fa;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .calendar-nav-btn:hover {
            background-color: #06BBCC;
            color: white;
        }
        
        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .calendar-weekday {
            text-align: center;
            font-weight: 600;
            color: #6c757d;
            font-size: 0.8rem;
        }
        
        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        
        .calendar-day {
            text-align: center;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .calendar-day:hover {
            background-color: #e9ecef;
        }
        
        .calendar-day.today {
            background-color: #06BBCC;
            color: white;
            font-weight: 600;
        }
        
        .calendar-day.has-event {
            position: relative;
        }
        
        .calendar-day.has-event::after {
            content: '';
            position: absolute;
            bottom: 3px;
            left: 50%;
            transform: translateX(-50%);
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background-color: #dc3545;
        }
        
        .calendar-day.other-month {
            color: #adb5bd;
        }
        
        .progress-container {
            margin-bottom: 15px;
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .progress-title {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .progress-value {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        .progress {
            height: 10px;
            border-radius: 5px;
        }
        
        .attendance-summary {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .attendance-item {
            text-align: center;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            flex-grow: 1;
            margin: 0 5px;
        }
        
        .attendance-value {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .attendance-present .attendance-value {
            color: #198754;
        }
        
        .attendance-absent .attendance-value {
            color: #dc3545;
        }
        
        .attendance-late .attendance-value {
            color: #fd7e14;
        }
        
        .attendance-label {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .support-ticket {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .ticket-info {
            flex-grow: 1;
        }
        
        .ticket-id {
            font-size: 0.8rem;
            color: #6c757d;
            margin-bottom: 5px;
        }
        
        .ticket-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .ticket-status {
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }
        
        .status-open {
            background-color: #cff4fc;
            color: #055160;
        }
        
        .status-in-progress {
            background-color: #fff3cd;
            color: #664d03;
        }
        
        .status-resolved {
            background-color: #d1e7dd;
            color: #0f5132;
        }
        
        .dashboard-section {
            margin-bottom: 30px;
        }
        
        .section-header {
            position: relative;
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #343a40;
            margin-bottom: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .section-title i {
            color: #06BBCC;
            font-size: 1.25rem;
        }
        
        /* Remove double blue lines */
        .section-title:before,
        .section-title:after {
            display: none;
        }
        
        .section-action {
            font-size: 0.9rem;
            color: #06BBCC;
            text-decoration: none;
        }
        
        .section-action:hover {
            text-decoration: underline;
        }
        
        .notification-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .notification-menu {
            position: absolute;
            top: 100%;
            right: 0;
            width: 300px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 15px;
            z-index: 1000;
            display: none;
        }
        
        .notification-menu.show {
            display: block;
        }
        
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .notification-title {
            font-weight: 600;
        }
        
        .notification-item {
            padding: 10px;
            border-bottom: 1px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .notification-item:hover {
            background-color: #f8f9fa;
        }
        
        .notification-item.unread {
            background-color: #f0f9ff;
        }
        
        .notification-content {
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .notification-footer {
            text-align: center;
            padding-top: 15px;
        }
        
        .user-dropdown {
            position: relative;
            display: inline-block;
        }
        
        .user-menu {
            position: absolute;
            top: 100%;
            right: 0;
            width: 200px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 15px;
            z-index: 1000;
            display: none;
        }
        
        .user-menu.show {
            display: block;
        }
        
        .user-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .user-avatar-small {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 10px;
        }
        
        .user-avatar-small img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-name {
            font-weight: 600;
        }
        
        .user-role {
            font-size: 0.8rem;
            color: #6c757d;
        }
        
        .user-menu-item {
            padding: 10px;
            display: flex;
            align-items: center;
            color: #343a40;
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .user-menu-item:hover {
            background-color: #f8f9fa;
        }
        
        .user-menu-icon {
            margin-right: 10px;
            color: #6c757d;
        }
        
        .user-menu-footer {
            padding-top: 15px;
            border-top: 1px solid #e9ecef;
            margin-top: 15px;
        }
        
        /* Add carousel styles */
        .welcome-carousel {
            position: relative;
            margin-bottom: 30px;
        }
        
        .welcome-carousel-item {
            position: relative;
            height: 400px;
            background-size: cover;
            background-position: center;
        }
        
        .welcome-carousel-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(24, 29, 56, .7);
            display: flex;
            align-items: center;
            padding: 30px;
            border-radius: 10px;
        }
        
        .welcome-carousel-content {
            max-width: 800px;
        }
        
        .welcome-carousel-content h5 {
            color: #06BBCC;
            text-transform: uppercase;
            margin-bottom: 15px;
            animation: slideInDown 1s ease forwards;
        }
        
        .welcome-carousel-content h1 {
            color: #fff;
            font-size: 2.5rem;
            margin-bottom: 20px;
            animation: slideInDown 1s ease forwards;
        }
        
        .welcome-carousel-content p {
            color: #fff;
            margin-bottom: 30px;
            animation: slideInDown 1s ease forwards;
        }
        
        /* Updated carousel navigation styles */
        .welcome-carousel .owl-nav {
            position: absolute;
            top: 50%;
            right: 20px; /* Position on right side */
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .welcome-carousel .owl-prev,
        .welcome-carousel .owl-next {
            width: 45px;
            height: 45px;
            background: rgba(255, 255, 255, 0.9) !important;
            border: none;
            outline: none;
            font-size: 22px;
            transition: .3s;
            color: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 !important;
        }

        .welcome-carousel .owl-prev:hover,
        .welcome-carousel .owl-next:hover {
            background: #06BBCC !important;
            color: #FFFFFF;
        }

        .welcome-carousel .owl-prev i,
        .welcome-carousel .owl-next i {
            font-size: 20px;
            line-height: 45px;
        }
        
        @keyframes slideInDown {
            0% {
                transform: translateY(-100px);
                opacity: 0;
            }
            100% {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Group Discussion Styles */
        .group-tabs {
            display: flex;
            border-bottom: 1px solid #dee2e6;
            margin-bottom: 15px;
        }
        
        .group-tab {
            padding: 10px 15px;
            cursor: pointer;
            font-weight: 500;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .group-tab.active {
            border-bottom-color: #06BBCC;
            color: #06BBCC;
        }
        
        .group-tab:hover:not(.active) {
            border-bottom-color: #dee2e6;
        }
        
        .group-content {
            display: none;
        }
        
        .group-content.active {
            display: block;
        }
        
        .group-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .group-card-small {
            width: calc(50% - 8px);
            border-radius: 8px;
            border: 1px solid #dee2e6;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .group-card-small:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .group-card-header-small {
            background-color: #06BBCC;
            color: white;
            padding: 10px;
            font-weight: 600;
        }
        
        .group-card-body-small {
            padding: 10px;
        }
        
        .group-members-small {
            display: flex;
            margin-top: 10px;
        }
        
        .group-member-small {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid white;
            margin-left: -8px;
        }
        
        .group-member-small:first-child {
            margin-left: 0;
        }
        
        .group-member-small img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .group-member-count-small {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #f8f9fa;
            border: 2px solid white;
            margin-left: -8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            color: #6c757d;
        }
        
        .group-form {
            margin-bottom: 20px;
        }
        
        .student-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 15px;
        }
        
        .student-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #e9ecef;
            transition: all 0.3s;
        }
        
        .student-item:last-child {
            border-bottom: none;
        }
        
        .student-item:hover {
            background-color: #f8f9fa;
        }
        
        .student-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 10px;
        }
        
        .student-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .student-info {
            flex-grow: 1;
        }
        
        .student-name {
            font-weight: 500;
            margin-bottom: 0;
            font-size: 0.9rem;
        }
        
        .student-course {
            font-size: 0.75rem;
            color: #6c757d;
        }
        
        .selected-students {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .selected-student {
            display: flex;
            align-items: center;
            background-color: #e9f5ff;
            border-radius: 20px;
            padding: 3px 10px;
            font-size: 0.8rem;
        }
        
        .remove-student {
            color: #dc3545;
            margin-left: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        /* Chat Styles */
        .chat-container {
            display: flex;
            height: 400px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        .chat-sidebar {
            width: 30%;
            background-color: #f8f9fa;
            border-right: 1px solid #dee2e6;
            display: flex;
            flex-direction: column;
        }
        
        .chat-main {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background-color: #fff;
        }
        
        .chat-header {
            padding: 10px 15px;
            border-bottom: 1px solid #dee2e6;
            background-color: #06BBCC;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-header h5 {
            margin-bottom: 0;
            font-size: 1rem;
        }
        
        .chat-header-actions {
            display: flex;
            gap: 10px;
        }
        
        .chat-header-actions button {
            background: none;
            border: none;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .chat-header-actions button:hover {
            color: #f8f9fa;
        }
        
        .chat-messages {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
            background-color: #f5f5f5;
        }
        
        .chat-input {
            padding: 10px;
            border-top: 1px solid #dee2e6;
            display: flex;
            gap: 10px;
        }
        
        .chat-input textarea {
            flex-grow: 1;
            border-radius: 20px;
            padding: 8px 15px;
            resize: none;
            border: 1px solid #dee2e6;
        }
        
        .chat-input button {
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }
        
        .message {
            max-width: 70%;
            padding: 8px 12px;
            border-radius: 10px;
            position: relative;
        }
        
        .message-sender {
            font-weight: 600;
            font-size: 0.8rem;
            margin-bottom: 3px;
        }
        
        .message-time {
            font-size: 0.7rem;
            color: #6c757d;
            position: absolute;
            bottom: 5px;
            right: 10px;
        }
        
        .message-received {
            align-self: flex-start;
            background-color: white;
            border-top-left-radius: 0;
        }
        
        .message-sent {
            align-self: flex-end;
            background-color: #e3f2fd;
            border-top-right-radius: 0;
        }
        
        .message-content {
            margin-right: 30px;
            margin-bottom: 15px;
        }
        
        .sidebar-header {
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
            background-color: #06BBCC;
            color: white;
        }
        
        .members-list {
            flex-grow: 1;
            overflow-y: auto;
        }
        
        .member-item {
            display: flex;
            align-items: center;
            padding: 8px 10px;
            border-bottom: 1px solid #dee2e6;
            transition: all 0.3s;
        }
        
        .member-item:hover {
            background-color: #e9ecef;
        }
        
        .member-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 10px;
        }
        
        .member-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .member-info {
            flex-grow: 1;
        }
        
        .member-name {
            font-weight: 500;
            margin-bottom: 0;
            font-size: 0.9rem;
        }
        
        .member-status {
            font-size: 0.75rem;
            color: #6c757d;
        }
        
        .member-status.online {
            color: #28a745;
        }
        
        .member-actions {
            display: flex;
            gap: 5px;
        }
        
        .member-actions button {
            background: none;
            border: none;
            color: #6c757d;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .member-actions button:hover {
            color: #06BBCC;
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            font-size: 0.8rem;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .typing-dots {
            display: flex;
            margin-left: 5px;
        }
        
        .typing-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            background-color: #6c757d;
            margin-right: 3px;
            animation: typingAnimation 1.5s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typingAnimation {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-5px);
            }
            100% {
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light shadow sticky-top p-0">
        <a href="student-dashboard.html" class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <h2 class="m-0 text-primary"><i class="fa fa-book me-3"></i>CMS</h2>
        </a>
        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <!-- Navigation Start -->
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="student-dashboard.html" class="nav-item nav-link active">Dashboard</a>
                <a href="courses.html" class="nav-item nav-link">My Courses</a>
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Assignments</a>
                    <div class="dropdown-menu fade-down m-0">
                        <a href="view-assignments.html" class="dropdown-item">View Assignments</a>
                        <a href="submit-assignment.html" class="dropdown-item">Submit Assignment</a>
                        <a href="assignment-grades.html" class="dropdown-item">Assignment Grades</a>
                    </div>
                </div>
                <!-- Update the Grades dropdown menu in the navbar -->
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">
                        <i class="bi bi-mortarboard me-2"></i>Grades
                    </a>
                    <div class="dropdown-menu fade-down m-0">
                        <a href="current-grades.html" class="dropdown-item">Current Grades</a>
                        <a href="grade-history.html" class="dropdown-item">Grade History</a>
                        <a href="gpa-calculator.html" class="dropdown-item">GPA Calculator</a>
                    </div>
                </div>
                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Resources</a>
                    <div class="dropdown-menu fade-down m-0">
                        <a href="course-materials.html" class="dropdown-item">Course Materials</a>
                        <a href="library.html" class="dropdown-item">Library</a>
                        <a href="view-help-content.html" class="dropdown-item">Help Center</a>
                    </div>
                </div>
                <a href="group-discussions.html" class="nav-item nav-link">Discussions</a>
                <a href="events.html" class="nav-item nav-link">Events</a>
            </div>
            <!-- Navigation End -->
            
            <!-- Notification Dropdown -->
            <div class="notification-dropdown me-3">
                <button class="btn btn-light position-relative" id="notificationButton">
                    <i class="bi bi-bell"></i>
                    <span class="notification-badge">5</span>
                </button>
                <div class="notification-menu" id="notificationMenu">
                    <div class="notification-header">
                        <span class="notification-title">Notifications</span>
                        <a href="#" class="text-primary">Mark all as read</a>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-content">New assignment posted in <strong>Web Development</strong></div>
                        <div class="notification-time">2 hours ago</div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-content">Your assignment <strong>Database Design</strong> has been graded</div>
                        <div class="notification-time">3 hours ago</div>
                    </div>
                    <div class="notification-item unread">
                        <div class="notification-content">New announcement in <strong>Data Structures</strong></div>
                        <div class="notification-time">5 hours ago</div>
                    </div>
                    <div class="notification-item">
                        <div class="notification-content">Reminder: <strong>Project Presentation</strong> tomorrow</div>
                        <div class="notification-time">1 day ago</div>
                    </div>
                    <div class="notification-item">
                        <div class="notification-content">New reply to your discussion post</div>
                        <div class="notification-time">2 days ago</div>
                    </div>
                    <div class="notification-footer">
                        <a href="notifications.html" class="text-primary">View all notifications</a>
                    </div>
                </div>
            </div>
            
            <!-- User Dropdown -->
            <div class="user-dropdown me-4">
                <button class="btn btn-light d-flex align-items-center" id="userButton">
                    <div class="user-avatar-small me-2">
                        <img src="img/user.jpg" alt="User">
                    </div>
                    <span class="d-none d-lg-inline">John Doe</span>
                    <i class="bi bi-chevron-down ms-2"></i>
                </button>
                <div class="user-menu" id="userMenu">
                    <div class="user-header">
                        <div class="user-avatar-small">
                            <img src="img/user.jpg" alt="User">
                        </div>
                        <div>
                            <div class="user-name">John Doe</div>
                            <div class="user-role">Student</div>
                        </div>
                    </div>
                    <a href="student-profile.html" class="user-menu-item">
                        <i class="bi bi-person user-menu-icon"></i>
                        My Profile
                    </a>
                    <a href="account-settings.html" class="user-menu-item">
                        <i class="bi bi-gear user-menu-icon"></i>
                        Account Settings
                    </a>
                    <a href="grades.html" class="user-menu-item">
                        <i class="bi bi-mortarboard user-menu-icon"></i>
                        My Grades
                    </a>
                    <a href="view-support-requests.html" class="user-menu-item">
                        <i class="bi bi-question-circle user-menu-icon"></i>
                        Support
                    </a>
                    <div class="user-menu-footer">
                        <a href="#"  onclick="logoutUser()" class="user-menu-item text-danger">
                            <i class="bi bi-box-arrow-right user-menu-icon"></i>
                            Logout
                        </a>
                    </div>
                    <script>
                        function logoutUser() {
                            // Clear session storage and local storage
                            localStorage.removeItem("user");
                            sessionStorage.clear();
                    
                            // Redirect to login page
                            window.location.href = "login.html";
                        }
                    </script>
                </div>
            </div>
        </div>
    </nav>
    <!-- Navbar End -->

    <!-- Dashboard Start -->
    <div class="container-xxl py-5">
        <div class="container">
            <!-- Welcome Banner -->
            <div class="welcome-carousel owl-carousel">
                <div class="welcome-carousel-item" style="background-image: url('img/carousel-1.jpg');">
                    <div class="welcome-carousel-overlay">
                        <div class="welcome-carousel-content">
                            <h5 class="text-primary text-uppercase mb-3">Welcome back, John!</h5>
                            <h1 class="display-3 text-white">Your Learning Journey Continues</h1>
                            <p class="fs-5 text-white mb-4 pb-2">You have 3 assignments due this week and 2 upcoming events. Keep up the good work!</p>
                            <a href="courses.html" class="btn btn-light py-md-3 px-md-5 me-3">My Courses</a>
                            <a href="submit-assignment.html" class="btn btn-primary py-md-3 px-md-5">Submit Assignment</a>
                        </div>
                    </div>
                </div>
                <div class="welcome-carousel-item" style="background-image: url('img/carousel-2.jpg');">
                    <div class="welcome-carousel-overlay">
                        <div class="welcome-carousel-content">
                            <h5 class="text-primary text-uppercase mb-3">Latest Updates</h5>
                            <h1 class="display-3 text-white">New Learning Resources Available</h1>
                            <p class="fs-5 text-white mb-4 pb-2">Check out our newly added course materials and video lectures. Stay ahead in your studies!</p>
                            <a href="library.html" class="btn btn-light py-md-3 px-md-5 me-3">Browse Library</a>
                            <a href="course-materials.html" class="btn btn-primary py-md-3 px-md-5">View Materials</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="quick-actions wow fadeInUp" data-wow-delay="0.2s">
                <a href="courses.html" class="quick-action-btn">
                    <div class="quick-action-icon">
                        <i class="bi bi-book"></i>
                    </div>
                    <div class="quick-action-label">Courses</div>
                </a>
                <a href="submit-assignment.html" class="quick-action-btn">
                    <div class="quick-action-icon">
                        <i class="bi bi-file-earmark-text"></i>
                    </div>
                    <div class="quick-action-label">Assignments</div>
                </a>
                <a href="grades.html" class="quick-action-btn">
                    <div class="quick-action-icon">
                        <i class="bi bi-file-earmark-text"></i>
                    </div>
                    <div class="quick-action-label">Grades</div>
                </a>
                <a href="events.html" class="quick-action-btn">
                    <div class="quick-action-icon">
                        <i class="bi bi-calendar-event"></i>
                    </div>
                    <div class="quick-action-label">Events</div>
                </a>
                <a href="#" class="quick-action-btn" id="discussionsQuickAction">
                    <div class="quick-action-icon">
                        <i class="bi bi-chat-dots"></i>
                    </div>
                    <div class="quick-action-label">Discussions</div>
                </a>
                <a href="view-support-requests.html" class="quick-action-btn">
                    <div class="quick-action-icon">
                        <i class="bi bi-question-circle"></i>
                    </div>
                    <div class="quick-action-label">Support</div>
                </a>
            </div>
            
            <!-- Main Dashboard Content -->
            <div class="row g-4 mt-3">
                <!-- Left Column -->
                <div class="col-lg-8">
                    <!-- Today's Timetable -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.3s">
                        <div class="section-header">
                            <h4 class="section-title">
                                <i class="bi bi-calendar3 me-2"></i>Today's Timetable
                            </h4>
                            <a href="timetable.html" class="section-action">View Full Schedule</a>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <span id="todayDate"><i class="bi bi-calendar3 dashboard-icon"></i>Monday, September 18, 2023</span>
                                <div>
                                    <button class="btn btn-sm btn-light me-2"><i class="bi bi-chevron-left"></i></button>
                                    <button class="btn btn-sm btn-light"><i class="bi bi-chevron-right"></i></button>
                                </div>
                            </div>
                            <div class="dashboard-card-body" id="timetable-body">
                                <!-- Timetable items will be dynamically inserted here -->
                            </div>
                        </div>
                        
                    </div>
                    
                    <!-- Assignments -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.4s">
                        <div class="section-header">
                            <h4 class="section-title">Upcoming Assignments</h4>
                            <a href="view-assignments.html" class="section-action">View All</a>
                        </div>
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <span><i class="bi bi-file-earmark-text dashboard-icon"></i>Assignments Due Soon</span>
                            </div>
                            <div class="dashboard-card-body" id="assignments-body">
                                <!-- Assignment items will be dynamically inserted here -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Announcements -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.5s">
                        <div class="section-header">
                            <h4 class="section-title">Recent Announcements</h4>
                            <a href="announcements.html" class="section-action">View All</a>
                        </div>
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <span><i class="bi bi-megaphone dashboard-icon"></i>Announcements</span>
                            </div>
                            <div class="dashboard-card-body">
                                <div class="announcement-item">
                                    <div class="announcement-title">Midterm Exam Schedule Released</div>
                                    <div class="announcement-date">Posted on: September 15, 2023</div>
                                    <div class="announcement-content">The midterm examination schedule has been released. Please check the examination portal for your individual schedule. All exams will be conducted in-person unless otherwise specified.</div>
                                </div>
                                <div class="announcement-item">
                                    <div class="announcement-title">System Maintenance Notice</div>
                                    <div class="announcement-date">Posted on: September 14, 2023</div>
                                    <div class="announcement-content">The eLEARNING platform will be undergoing maintenance on Saturday, September 23, from 2:00 AM to 6:00 AM. During this time, the system will be unavailable. Please plan accordingly.</div>
                                </div>
                                <div class="announcement-item" style="border-bottom: none;">
                                    <div class="announcement-title">New Library Resources Available</div>
                                    <div class="announcement-date">Posted on: September 12, 2023</div>
                                    <div class="announcement-content">The university library has added new digital resources for computer science students. These include access to IEEE Xplore Digital Library and ACM Digital Library. Access these resources through your library account.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Group Discussions -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.6s" id="discussionsSection">
                        <div class="section-header">
                            <h4 class="section-title">
                                <i class="bi bi-chat-dots me-2"></i>Group Discussions
                            </h4>
                            <div>
                                <button class="btn btn-sm btn-outline-primary me-2" id="createGroupBtn">
                                    <i class="bi bi-plus-circle me-1"></i>Create Group
                                </button>
                                <a href="#" class="section-action">View All</a>
                            </div>
                        </div>
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <div class="group-tabs">
                                    <div class="group-tab active" data-tab="my-groups">My Groups</div>
                                    <div class="group-tab" data-tab="group-chat">Group Chat</div>
                                    <div class="group-tab" data-tab="manage-groups">Manage Groups</div>
                                </div>
                            </div>
                            <div class="dashboard-card-body">
                                <!-- My Groups Tab -->
                                <div class="group-content active" id="my-groups-content">
                                    <div class="group-container">
                                        <div class="group-card-small" data-group-id="1">
                                            <div class="group-card-header-small">Database Project Team</div>
                                            <div class="group-card-body-small">
                                                <p class="mb-1 text-muted small">CS301 - Database Management Systems</p>
                                                <div class="group-members-small">
                                                    <div class="group-member-small">
                                                        <img src="img/profile.png" alt="John Doe">
                                                    </div>
                                                    <div class="group-member-small">
                                                        <img src="img/profile.png" alt="Alice Johnson">
                                                    </div>
                                                    <div class="group-member-small">
                                                        <img src="img/profile.png" alt="Bob Smith">
                                                    </div>
                                                    <div class="group-member-count-small">+3</div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                     
                                    </div>
                           
                                </div>
                                
                                <!-- Group Chat Tab -->
                                <div class="group-content" id="group-chat-content">
                                    <div class="chat-container">
                                        <div class="chat-sidebar">
                                            <div class="sidebar-header">
                                                <h5 class="mb-0 fs-6">Group Members</h5>
                                            </div>
                                            <div class="members-list">
                                                <div class="member-item">
                                                    <div class="member-avatar">
                                                        <img src="img/user.jpg" alt="John Doe">
                                                    </div>
                                                    <div class="member-info">
                                                        <h6 class="member-name">John Doe (You)</h6>
                                                        <div class="member-status online">Online</div>
                                                    </div>
                                                </div>
                                                <div class="member-item">
                                                    <div class="member-avatar">
                                                        <img src="img/student-1.jpg" alt="Alice Johnson">
                                                    </div>
                                                    <div class="member-info">
                                                        <h6 class="member-name">Alice Johnson</h6>
                                                        <div class="member-status online">Online</div>
                                                    </div>
                                                    <div class="member-actions">
                                                        <button title="Remove" class="text-danger remove-member-btn"><i class="bi bi-person-x"></i></button>
                                                    </div>
                                                </div>
                                                <div class="member-item">
                                                    <div class="member-avatar">
                                                        <img src="img/student-2.jpg" alt="Bob Smith">
                                                    </div>
                                                    <div class="member-info">
                                                        <h6 class="member-name">Bob Smith</h6>
                                                        <div class="member-status">Last seen 2 hours ago</div>
                                                    </div>
                                                    <div class="member-actions">
                                                        <button title="Remove" class="text-danger remove-member-btn"><i class="bi bi-person-x"></i></button>
                                                    </div>
                                                </div>
                                                <div class="member-item">
                                                    <div class="member-avatar">
                                                        <img src="img/student-3.jpg" alt="Carol Williams">
                                                    </div>
                                                    <div class="member-info">
                                                        <h6 class="member-name">Carol Williams</h6>
                                                        <div class="member-status online">Online</div>
                                                    </div>
                                                    <div class="member-actions">
                                                        <button title="Remove" class="text-danger remove-member-btn"><i class="bi bi-person-x"></i></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="chat-main">
                                            <div class="chat-header">
                                                <h5>Database Project Team</h5>
                                                <div class="chat-header-actions">
                                                    <button title="Add Member" id="addMemberBtn"><i class="bi bi-person-plus"></i></button>
                                                    <button title="Group Info"><i class="bi bi-info-circle"></i></button>
                                                </div>
                                            </div>
                                            <div class="chat-messages" id="chatMessages">
                                                <div class="message message-received">
                                                    <div class="message-sender">Alice Johnson</div>
                                                    <div class="message-content">
                                                        Hi everyone! I've started working on the ER diagram for our hospital management system. I'll share it once I have a draft ready.
                                                    </div>
                                                    <div class="message-time">10:15 AM</div>
                                                </div>
                                                
                                                <div class="message message-received">
                                                    <div class="message-sender">Bob Smith</div>
                                                    <div class="message-content">
                                                        That's great Alice! I've been researching similar systems. I'll share my findings tomorrow.
                                                    </div>
                                                    <div class="message-time">11:30 AM</div>
                                                </div>
                                                
                                                <div class="message message-sent">
                                                    <div class="message-sender">John Doe (You)</div>
                                                    <div class="message-content">
                                                        Thanks for taking the initiative! I think we should use PostgreSQL for this project since it handles complex queries well.
                                                    </div>
                                                    <div class="message-time">1:45 PM</div>
                                                </div>
                                                
                                                <div class="message message-received">
                                                    <div class="message-sender">Carol Williams</div>
                                                    <div class="message-content">
                                                        I agree with John. PostgreSQL would be a good choice. I've worked with it before and it's great for relational data.
                                                    </div>
                                                    <div class="message-time">2:20 PM</div>
                                                </div>
                                                
                                                <div class="typing-indicator">
                                                    <span>Alice Johnson is typing</span>
                                                    <div class="typing-dots">
                                                        <div class="typing-dot"></div>
                                                        <div class="typing-dot"></div>
                                                        <div class="typing-dot"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="chat-input">
                                                <textarea class="form-control" placeholder="Type a message..." rows="1" id="messageInput"></textarea>
                                                <button class="btn btn-primary" id="attachButton" title="Attach File"><i class="bi bi-paperclip"></i></button>
                                                <button class="btn btn-primary" id="sendButton"><i class="bi bi-send"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Manage Groups Tab -->
                                <div class="group-content" id="manage-groups-content">
                                    <div class="group-form">
                                        <h5 class="mb-3">Create New Group</h5>
                                        <div class="row g-3">
                                            <div class="col-md-12">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" id="groupName" placeholder="Group Name">
                                                    <label for="groupName">Group Name</label>
                                                </div>
                                            </div>
                            
                                            <div class="col-md-12">
                                                <div class="form-floating">
                                                    <textarea class="form-control" placeholder="Description" id="description" style="height: 100px"></textarea>
                                                    <label for="description">Group Description</label>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <h5 class="mt-4 mb-3">Add Students to Group</h5>
                                        <div class="student-list">
                                  
                                        </div>
                                        
                                        <h6 class="mt-3 mb-2">Selected Students</h6>
                                        <div class="selected-students" id="selectedStudents">
                                            <!-- Selected students will be added here dynamically -->
                                        </div>
                                        
                                        <div class="text-center mt-4">
                                            <button type="button" class="btn btn-primary" id="saveGroupBtn">Create Group</button>
                                            <button type="button" class="btn btn-outline-secondary ms-2" id="cancelGroupBtn">Cancel</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column -->
                <div class="col-lg-4">
                    <!-- Profile Summary -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.3s">
    <div class="dashboard-card">
        <div class="dashboard-card-header">
            <span><i class="bi bi-person dashboard-icon"></i>My Profile</span>
            <a href="student-profile.html" class="text-white"><i class="bi bi-pencil-square"></i></a>
        </div>
        <div class="dashboard-card-body">
            <div class="profile-header">
                <div class="profile-avatar">
                    <img id="profile-avatar" src="img/profile.png" alt="User Profile">
                </div>
                <div class="profile-info">
                    <h5 id="profile-name">John Doe</h5>
                    <p id="student-id">Student ID: ST12345</p>
                    <p id="course-info">Computer Science, Year 2</p>
                </div>
            </div>
            <div class="profile-stats">
                <div class="stat-item">
                    <div class="stat-value">8</div>
                    <div class="stat-label">Courses</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">3.8</div>
                    <div class="stat-label">GPA</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">92%</div>
                    <div class="stat-label">Attendance</div>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-label">
                    <div class="progress-title">Semester Progress</div>
                    <div class="progress-value">45%</div>
                </div>
                <div class="progress">
                    <div class="progress-bar bg-primary" role="progressbar" style="width: 45%" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
            <div class="text-center mt-3">
                <a href="student-profile.html" class="btn btn-outline-primary">View Full Profile</a>
            </div>
        </div>
    </div>
</div>
                    
                    <!-- Upcoming Events -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.4s">
                        <div class="section-header">
                            <h4 class="section-title">
                                <i class="bi bi-calendar-event me-2"></i>Upcoming Events
                            </h4>
                            <a href="events.html" class="section-action">View All</a>
                        </div>
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <span>Events</span>
                                <div>
                                    <button class="btn btn-sm btn-light me-2" id="prevEvent"><i class="bi bi-chevron-left"></i></button>
                                    <button class="btn btn-sm btn-light" id="nextEvent"><i class="bi bi-chevron-right"></i></button>
                                </div>
                            </div>
                            <div class="dashboard-card-body">
                                <div class="owl-carousel event-carousel">
                                    <!-- Event items will be dynamically inserted here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Attendance Summary -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.5s">
                        <div class="section-header">
                            <h4 class="section-title">Attendance Summary</h4>
                            <a href="attendance.html" class="section-action">View Details</a>
                        </div>
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <span><i class="bi bi-calendar-check dashboard-icon"></i>Attendance</span>
                            </div>
                            <div class="dashboard-card-body">
                                <div class="attendance-summary">
                                    <div class="attendance-item attendance-present">
                                        <div class="attendance-value">92%</div>
                                        <div class="attendance-label">Present</div>
                                    </div>
                                    <div class="attendance-item attendance-absent">
                                        <div class="attendance-value">5%</div>
                                        <div class="attendance-label">Absent</div>
                                    </div>
                                    <div class="attendance-item attendance-late">
                                        <div class="attendance-value">3%</div>
                                        <div class="attendance-label">Late</div>
                                    </div>
                                </div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <div class="progress-title">Data Structures and Algorithms</div>
                                        <div class="progress-value">95%</div>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 95%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <div class="progress-title">Database Management Systems</div>
                                        <div class="progress-value">90%</div>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <div class="progress-title">Web Development</div>
                                        <div class="progress-value">85%</div>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 85%" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                                <div class="progress-container">
                                    <div class="progress-label">
                                        <div class="progress-title">Software Engineering Principles</div>
                                        <div class="progress-value">100%</div>
                                    </div>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Support Tickets -->
                    <div class="dashboard-section wow fadeInUp" data-wow-delay="0.6s">
                        <div class="section-header">
                            <h4 class="section-title">Support Tickets</h4>
                            <a href="view-support-requests.html" class="section-action">View All</a>
                        </div>
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <span><i class="bi bi-ticket-perforated dashboard-icon"></i>Recent Tickets</span>
                            </div>
                            <div class="dashboard-card-body">
                                <div class="support-ticket">
                                    <div class="ticket-info">
                                        <div class="ticket-id">Ticket #SR-2023-001</div>
                                        <div class="ticket-title">Unable to access course materials</div>
                                    </div>
                                    <span class="ticket-status status-in-progress">In Progress</span>
                                </div>
                                <div class="support-ticket" style="border-bottom: none;">
                                    <div class="ticket-info">
                                        <div class="ticket-id">Ticket #SR-2023-002</div>
                                        <div class="ticket-title">Issue with assignment submission</div>
                                    </div>
                                    <span class="ticket-status status-resolved">Resolved</span>
                                </div>
                                <div class="text-center mt-3">
                                    <a href="create-support-request.html" class="btn btn-primary">Create New Ticket</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Dashboard End -->

    <!-- Add Member Modal -->
    <div class="modal fade" id="addMemberModal" tabindex="-1" aria-labelledby="addMemberModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addMemberModalLabel">Add Members</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3 position-relative">
                        <input type="text" class="form-control" placeholder="Search students by name or ID">
                    </div>
                    <div class="student-list">
                        <div class="student-item" data-id="5">
                            <div class="student-avatar">
                                <img src="img/profile.png" alt="Student">
                            </div>
                            <div class="student-info">
                                <h6 class="student-name">Emma Davis</h6>
                                <div class="student-course">Computer Science, Year 1</div>
                            </div>
                            <button class="btn btn-sm btn-outline-primary add-student-btn">Add</button>
                        </div>
                      
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="addSelectedMembersBtn">Add Selected</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer Start -->
    <div class="container-fluid bg-dark text-light footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
        <div class="container py-5">
            <div class="row g-5">
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-white mb-3">Quick Links</h4>
                    <a class="btn btn-link" href="student-dashboard.html">Dashboard</a>
                    <a class="btn btn-link" href="courses.html">My Courses</a>
                    <a class="btn btn-link" href="view-assignments.html">Assignments</a>
                    <a class="btn btn-link" href="events.html">Events</a>
                    <a class="btn btn-link" href="view-help-content.html">Help Center</a>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-white mb-3">Contact</h4>
                    <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>123 Street, New York, USA</p>
                    <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+012 345 67890</p>
                    <p class="mb-2"><i class="fa fa-envelope me-3"></i>info@example.com</p>
                    <div class="d-flex pt-2">
                        <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-youtube"></i></a>
                        <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-white mb-3">Gallery</h4>
                    <div class="row g-2 pt-2">
                        <div class="col-4">
                            <img class="img-fluid bg-light p-1" src="img/course-1.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid bg-light p-1" src="img/course-2.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid bg-light p-1" src="img/course-3.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid bg-light p-1" src="img/course-2.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid bg-light p-1" src="img/course-3.jpg" alt="">
                        </div>
                        <div class="col-4">
                            <img class="img-fluid bg-light p-1" src="img/course-1.jpg" alt="">
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <h4 class="text-white mb-3">Newsletter</h4>
                    <p>Subscribe to our newsletter for updates</p>
                    <div class="position-relative mx-auto" style="max-width: 400px;">
                        <input class="form-control border-0 w-100 py-3 ps-4 pe-5" type="text" placeholder="Your email">
                        <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">SignUp</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="copyright">
                <div class="row">
                    <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                        &copy; <a class="border-bottom" href="#">eLEARNING</a>, All Right Reserved.
                    </div>
                    <div class="col-md-6 text-center text-md-end">
                        <div class="footer-menu">
                            <a href="student-dashboard.html">Home</a>
                            <a href="cookies.html">Cookies</a>
                            <a href="help.html">Help</a>
                            <a href="faqs.html">FAQs</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {


            const studentListContainer = document.querySelector(".student-list");
            const selectedStudentsContainer = document.getElementById("selectedStudents");
            const saveGroupBtn = document.getElementById("saveGroupBtn");
            let studentList = []; // Store selected student IDs
        
            // Fetch students from API and display them
            fetch("http://localhost:8080/Students")
                .then(response => response.json())
                .then(students => {
                    studentListContainer.innerHTML = ""; // Clear existing content
                    students.forEach(student => {
                        const studentItem = document.createElement("div");
                        studentItem.classList.add("student-item");
                        studentItem.setAttribute("data-id", student.studentID);
        
                        studentItem.innerHTML = `
                            <div class="student-avatar">
                                <img src="img/profile.png" alt="Student">
                            </div>
                            <div class="student-info">
                                <h6 class="student-name">${student.firstName} ${student.lastName}</h6>
                                <div class="student-course">${getDegreeDetails(student)}</div>
                            </div>
                            <button class="btn btn-sm btn-outline-primary add-student-btn">Add</button>
                        `;
        
                        studentListContainer.appendChild(studentItem);
        
                        // Add student selection event
                        studentItem.querySelector(".add-student-btn").addEventListener("click", function () {
                            if (!studentList.includes(student.studentID)) {
                                studentList.push(student.studentID); // Add student ID to the list
        
                                // Display selected student
                                const selectedStudentDiv = document.createElement("div");
                                selectedStudentDiv.classList.add("selected-student");
                                selectedStudentDiv.innerHTML = `
                                    ${student.firstName} ${student.lastName} 
                                    <button class="btn btn-sm btn-danger remove-student-btn" data-id="${student.studentID}">Remove</button>
                                `;
                                selectedStudentsContainer.appendChild(selectedStudentDiv);
        
                                // Remove student from selected list
                                selectedStudentDiv.querySelector(".remove-student-btn").addEventListener("click", function () {
                                    const studentIdToRemove = parseInt(this.getAttribute("data-id"));
                                    studentList = studentList.filter(id => id !== studentIdToRemove); // Remove from list
                                    this.parentElement.remove(); // Remove from UI
                                });
                            } else {
                                alert(`Student ${student.firstName} is already added.`);
                            }
                        });
                    });
                })
                .catch(error => console.error("Error fetching students:", error));
        
            // Handle Create Group button click
            saveGroupBtn.addEventListener("click", function () {
                const groupName = document.getElementById("groupName").value.trim();
                const description = document.getElementById("description").value.trim();
        
                if (groupName === "" || studentList.length === 0) {
                    alert("Please enter a group name and add at least one student.");
                    return;
                }
        
                const groupData = {
                    groupName: groupName,
                    description: description,
                    memberIds: studentList
                };
        
                fetch("http://localhost:8080/api/groups/create", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(groupData)
                })
                .then(response => response.json())
                .then(data => {
                    alert("Group created successfully!");
                    console.log("Created Group:", data);
                    // Optionally clear fields after successful creation
                    document.getElementById("groupName").value = "";
                    document.getElementById("description").value = "";
                    studentList = [];
                    selectedStudentsContainer.innerHTML = ""; // Clear selected students
                })
                .catch(error => {
                    console.error("Error creating group:", error);
                    alert("Failed to create group. Please try again.");
                });
            });
        
            function getDegreeDetails(student) {
                if (student.studentDegrees && student.studentDegrees.length > 0) {
                    return student.studentDegrees.map(degree => `${degree.programName}, ${degree.level}`).join(" | ");
                }
                return "No degree information";
            }
        });
        </script>
        
        
    <!-- Custom Javascript for Dashboard -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Hide spinner after page loads
            setTimeout(function() {
                document.getElementById('spinner').classList.remove('show');
            }, 1000);
            
            // Notification dropdown toggle
            const notificationButton = document.getElementById('notificationButton');
            const notificationMenu = document.getElementById('notificationMenu');
            
            notificationButton.addEventListener('click', function(e) {
                e.stopPropagation();
                notificationMenu.classList.toggle('show');
                userMenu.classList.remove('show');
            });
            
            // User dropdown toggle
            const userButton = document.getElementById('userButton');
            const userMenu = document.getElementById('userMenu');
            
            userButton.addEventListener('click', function(e) {
                e.stopPropagation();
                userMenu.classList.toggle('show');
                notificationMenu.classList.remove('show');
            });
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', function() {
                notificationMenu.classList.remove('show');
                userMenu.classList.remove('show');
            });
            
            // Prevent dropdown from closing when clicking inside
            notificationMenu.addEventListener('click', function(e) {
                e.stopPropagation();
            });
            
            userMenu.addEventListener('click', function(e) {
                e.stopPropagation();
            });

            // Add this to your existing script section
            $('.event-carousel').owlCarousel({
                loop: true,
                margin: 10,
                nav: false,
                dots: true,
                items: 1,
                autoplay: true,
                autoplayTimeout: 5000,
                autoplayHoverPause: true
            });

            // Event navigation buttons
            $('#prevEvent').click(function() {
                $('.event-carousel').trigger('prev.owl.carousel');
            });

            $('#nextEvent').click(function() {
                $('.event-carousel').trigger('next.owl.carousel');
            });
            
            // Group Discussion Functionality
            
            // Tab switching
            const groupTabs = document.querySelectorAll('.group-tab');
            const groupContents = document.querySelectorAll('.group-content');
            
            groupTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    groupTabs.forEach(t => t.classList.remove('active'));
                    groupContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to current tab and content
                    this.classList.add('active');
                    document.getElementById(`${tabId}-content`).classList.add('active');
                });
            });
            
            // Create Group button
            document.getElementById('createGroupBtn').addEventListener('click', function() {
                // Switch to manage groups tab
                groupTabs.forEach(t => t.classList.remove('active'));
                groupContents.forEach(c => c.classList.remove('active'));
                
                document.querySelector('[data-tab="manage-groups"]').classList.add('active');
                document.getElementById('manage-groups-content').classList.add('active');
                
                // Scroll to the section
                document.getElementById('discussionsSection').scrollIntoView({ behavior: 'smooth' });
            });
            
            
            // Quick action button for discussions
            document.getElementById('discussionsQuickAction').addEventListener('click', function(e) {
                e.preventDefault();
                document.getElementById('discussionsSection').scrollIntoView({ behavior: 'smooth' });
            });
            
            // Group card click to open chat
            const groupCards = document.querySelectorAll('.group-card-small');
            groupCards.forEach(card => {
                card.addEventListener('click', function() {
                    const groupId = this.getAttribute('data-group-id');
                    
                    // Switch to chat tab
                    groupTabs.forEach(t => t.classList.remove('active'));
                    groupContents.forEach(c => c.classList.remove('active'));
                    
                    document.querySelector('[data-tab="group-chat"]').classList.add('active');
                    document.getElementById('group-chat-content').classList.add('active');
                    
                    // Update chat header with group name (in a real app, you'd fetch this data)
                    const groupName = this.querySelector('.group-card-header-small').textContent;
                    document.querySelector('.chat-header h5').textContent = groupName;
                });
            });
            
            // Add student to group
            const addStudentBtns = document.querySelectorAll('.add-student-btn');
            const selectedStudentsContainer = document.getElementById('selectedStudents');
            
            addStudentBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const studentItem = this.closest('.student-item');
                    const studentId = studentItem.dataset.id;
                    const studentName = studentItem.querySelector('.student-name').textContent;
                    
                    // Check if student is already added
                    if (document.querySelector(`.selected-student[data-id="${studentId}"]`)) {
                        return;
                    }
                    
                    // Create selected student element
                    const selectedStudent = document.createElement('div');
                    selectedStudent.className = 'selected-student';
                    selectedStudent.dataset.id = studentId;
                    selectedStudent.innerHTML = `
                        ${studentName}
                        <i class="bi bi-x-circle remove-student"></i>
                    `;
                    
                    // Add to selected students container
                    selectedStudentsContainer.appendChild(selectedStudent);
                    
                    // Change button to "Added"
                    this.textContent = 'Added';
                    this.classList.remove('btn-outline-primary');
                    this.classList.add('btn-success');
                    this.disabled = true;
                });
            });
            
            // Remove student from selected list
            selectedStudentsContainer.addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-student') || e.target.classList.contains('bi-x-circle')) {
                    const selectedStudent = e.target.closest('.selected-student');
                    const studentId = selectedStudent.dataset.id;
                    
                    // Remove from selected list
                    selectedStudent.remove();
                    
                    // Reset the add button
                    const addBtn = document.querySelector(`.student-item[data-id="${studentId}"] .add-student-btn`);
                    if (addBtn) {
                        addBtn.textContent = 'Add';
                        addBtn.classList.remove('btn-success');
                        addBtn.classList.add('btn-outline-primary');
                        addBtn.disabled = false;
                    }
                }
            });
            
            // Save group button
            document.getElementById('saveGroupBtn').addEventListener('click', function() {
                const groupName = document.getElementById('groupName').value;
                const groupType = document.getElementById('groupType').value;
                const description = document.getElementById('description').value;
                
                if (!groupName || !groupType || !description) {
                    alert('Please fill in all required fields.');
                    return;
                }
                
                // Get selected students
                const selectedStudents = document.querySelectorAll('.selected-student');
                if (selectedStudents.length === 0) {
                    alert('Please add at least one student to the group.');
                    return;
                }
                
                // In a real application, you would send this data to the server
                // For now, we'll just show an alert and reset the form
                alert('Group created successfully!');
                
                // Reset form
                document.getElementById('groupName').value = '';
                document.getElementById('groupType').selectedIndex = 0;
                document.getElementById('relatedCourse').selectedIndex = 0;
                document.getElementById('description').value = '';
                
                // Clear selected students
                selectedStudentsContainer.innerHTML = '';
                
                // Reset add buttons
                addStudentBtns.forEach(btn => {
                    btn.textContent = 'Add';
                    btn.classList.remove('btn-success');
                    btn.classList.add('btn-outline-primary');
                    btn.disabled = false;
                });
                
                // Switch back to my groups tab
                groupTabs.forEach(t => t.classList.remove('active'));
                groupContents.forEach(c => c.classList.remove('active'));
                
                document.querySelector('[data-tab="my-groups"]').classList.add('active');
                document.getElementById('my-groups-content').classList.add('active');
            });
            
            // Cancel group button
            document.getElementById('cancelGroupBtn').addEventListener('click', function() {
                // Reset form
                document.getElementById('groupName').value = '';
                document.getElementById('groupType').selectedIndex = 0;
                document.getElementById('relatedCourse').selectedIndex = 0;
                document.getElementById('description').value = '';
                
                // Clear selected students
                selectedStudentsContainer.innerHTML = '';
                
                // Reset add buttons
                addStudentBtns.forEach(btn => {
                    btn.textContent = 'Add';
                    btn.classList.remove('btn-success');
                    btn.classList.add('btn-outline-primary');
                    btn.disabled = false;
                });
                
                // Switch back to my groups tab
                groupTabs.forEach(t => t.classList.remove('active'));
                groupContents.forEach(c => c.classList.remove('active'));
                
                document.querySelector('[data-tab="my-groups"]').classList.add('active');
                document.getElementById('my-groups-content').classList.add('active');
            });
            
            // Chat functionality
            const chatMessages = document.getElementById('chatMessages');
            const messageInput = document.getElementById('messageInput');
            const sendButton = document.getElementById('sendButton');
            
            // Scroll to bottom of chat
            function scrollToBottom() {
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Scroll to bottom on page load
            scrollToBottom();
            
            // Send message
            function sendMessage() {
                const messageText = messageInput.value.trim();
                if (messageText === '') return;
                
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const timeString = `${hours}:${minutes}`;
                
                const messageHTML = `
                    <div class="message message-sent">
                        <div class="message-sender">John Doe (You)</div>
                        <div class="message-content">
                            ${messageText}
                        </div>
                        <div class="message-time">${timeString}</div>
                    </div>
                `;
                
                // Hide typing indicator if visible
                document.querySelector('.typing-indicator').style.display = 'none';
                
                // Add message to chat
                chatMessages.insertAdjacentHTML('beforeend', messageHTML);
                messageInput.value = '';
                scrollToBottom();
                
                // Simulate a response after 2 seconds
                setTimeout(function() {
                    // Show typing indicator
                    document.querySelector('.typing-indicator').style.display = 'flex';
                    
                    // Hide typing indicator and show response after 3 seconds
                    setTimeout(function() {
                        document.querySelector('.typing-indicator').style.display = 'none';
                        
                        const responseHTML = `
                            <div class="message message-received">
                                <div class="message-sender">Alice Johnson</div>
                                <div class="message-content">
                                    Thanks for your input! I'll incorporate these ideas into our project.
                                </div>
                                <div class="message-time">${hours}:${(parseInt(minutes) + 1).toString().padStart(2, '0')}</div>
                            </div>
                        `;
                        
                        chatMessages.insertAdjacentHTML('beforeend', responseHTML);
                        scrollToBottom();
                    }, 3000);
                }, 2000);
            }
            
            // Send message on button click
            sendButton.addEventListener('click', sendMessage);
            
            // Send message on Enter key
            messageInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendMessage();
                }
            });
            
            // Add member button
            document.getElementById('addMemberBtn').addEventListener('click', function() {
                const addMemberModal = new bootstrap.Modal(document.getElementById('addMemberModal'));
                addMemberModal.show();
            });
            
            // Add selected members button
            document.getElementById('addSelectedMembersBtn').addEventListener('click', function() {
                const modal = bootstrap.Modal.getInstance(document.getElementById('addMemberModal'));
                modal.hide();
                alert('Members added successfully!');
            });
            
            // Remove member buttons
            const removeMemberBtns = document.querySelectorAll('.remove-member-btn');
            removeMemberBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    if (confirm('Are you sure you want to remove this member from the group?')) {
                        const memberItem = this.closest('.member-item');
                        memberItem.remove();
                    }
                });
            });
        });

        $(document).ready(function() {
            $(".welcome-carousel").owlCarousel({
                items: 1,
                loop: true,
                nav: true,
                dots: false,
                autoplay: true,
                autoplayTimeout: 5000,
                autoplayHoverPause: true,
                navText: [
                    '<i class="bi bi-chevron-left"></i>',
                    '<i class="bi bi-chevron-right"></i>'
                ],
                responsive: {
                    0: {
                        nav: true
                    },
                    768: {
                        nav: true
                    }
                }
            });
        });
    </script>

<script>
    var today = new Date();
    var daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
    var dayName = daysOfWeek[today.getDay()];

    var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    var todayFormatted = today.toLocaleDateString('en-US', options);
    document.getElementById("todayDate").textContent = todayFormatted;

    function populateTimetable() {
        fetch(`http://localhost:8080/reservations/class/date/${dayName}`)
            .then(response => response.json())
            .then(data => {
                const timetableBody = document.getElementById("timetable-body");
                timetableBody.innerHTML = ''; 

                data.forEach(reservation => {
                    const timetableItem = document.createElement('div');
                    timetableItem.classList.add('timetable-item');
                    
                    // Add time slot
                    const timeDiv = document.createElement('div');
                    timeDiv.classList.add('timetable-time');
                    timeDiv.textContent = `${reservation.startTime} - ${reservation.endTime}`;
                    
                    // Add subject and location details
                    const subjectDiv = document.createElement('div');
                    subjectDiv.classList.add('timetable-subject');

                    const subjectNameDiv = document.createElement('div');
                    subjectNameDiv.textContent = reservation.courseName;

                    const locationDiv = document.createElement('div');
                    locationDiv.classList.add('timetable-location');
                    locationDiv.innerHTML = `<i class="bi bi-geo-alt me-1"></i>${reservation.roomName}`;

                    // Append elements to timetable item
                    subjectDiv.appendChild(subjectNameDiv);
                    subjectDiv.appendChild(locationDiv);
                    timetableItem.appendChild(timeDiv);
                    timetableItem.appendChild(subjectDiv);

                    // Append the item to the body
                    timetableBody.appendChild(timetableItem);
                });
            })
            .catch(error => console.error('Error fetching timetable:', error));
    }

    // Call the function to populate the timetable on page load
    populateTimetable();
</script>

<script>
    // Function to fetch assignment data from API and populate the assignments section
    async function fetchAssignments() {
        try {
            // Make an API request to fetch tasks (assignments)
            const response = await fetch("http://localhost:8080/api/tasks");

            if (!response.ok) {
                throw new Error("Failed to fetch assignments");
            }

            // Parse the response to JSON
            const assignments = await response.json();

            console.log("Assignments" + assignments);
            // Get the container where assignments will be populated
            const assignmentList = document.querySelector('#assignments-body');

            // Clear the current content
            assignmentList.innerHTML = "";

            // Loop through the assignments and add them to the dashboard
            assignments.forEach(assignment => {
                const assignmentItem = document.createElement('div');
                assignmentItem.classList.add('assignment-item');

                // Add assignment details
                assignmentItem.innerHTML = `
                    <div class="assignment-info">
                        <div class="assignment-title">${assignment.title}</div>
                        <div class="assignment-course">${assignment.type} Assignment</div>
                        <div class="assignment-due">Due: ${formatDueDate(assignment.dueDate)} ${assignment.dueTime}</div>
                    </div>
                    <span class="assignment-status ${assignment.status === 'Active' ? 'status-pending' : 'status-completed'}">${assignment.status}</span>
                `;

                // Append the item to the list
                assignmentList.appendChild(assignmentItem);
            });
        } catch (error) {
            console.error('Error fetching assignments:', error);
        }
    }

    // Function to format the due date (e.g., "2025-03-06" to "March 6, 2025")
    function formatDueDate(dueDate) {
        const date = new Date(dueDate);
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return date.toLocaleDateString(undefined, options);
    }

       // Function to fetch user data and update the profile section
    async function fetchUserProfile(userId) {
        try {
            // Make an API request to fetch user data
            const response = await fetch(`http://localhost:8080/users/${userId}`);

            if (!response.ok) {
                throw new Error("Failed to fetch user data");
            }

            // Parse the response to JSON
            const user = await response.json();

            document.getElementById('profile-name').textContent = `${user.firstName} ${user.lastName}`;
            document.getElementById('student-id').textContent = `Student ID: ${user.id}`;
            document.getElementById('course-info').textContent = `${user.role}, Year 2`; // Update as needed

            const gpa = 3.8; 
            const attendance = '92%'; 
            const courses = 8;
            document.querySelectorAll('.stat-item')[0].querySelector('.stat-value').textContent = courses;
            document.querySelectorAll('.stat-item')[1].querySelector('.stat-value').textContent = gpa;
            document.querySelectorAll('.stat-item')[2].querySelector('.stat-value').textContent = attendance;

            const semesterProgress = 45; // Use actual progress data if available
            document.querySelector('.progress-bar').style.width = `${semesterProgress}%`;
            document.querySelector('.progress-value').textContent = `${semesterProgress}%`;

        } catch (error) {
            console.error("Error fetching user profile:", error);
        }
    }


    // Fetch assignments when the page loads
    window.onload = fetchAssignments();
    window.onload = fetchUserProfile(4);
</script>


<script>
    // Function to fetch event data and populate the events section
    async function fetchEvents() {
        try {
            // Fetch events from the API
            const response = await fetch('http://localhost:8080/events');
            
            if (!response.ok) {
                throw new Error('Failed to fetch events');
            }

            // Parse the response JSON
            const events = await response.json();
            const eventCarousel = document.querySelector('.event-carousel');
            
            // Clear any existing events in the carousel
            eventCarousel.innerHTML = '';

            // Loop through the events and create HTML for each event
            events.forEach(event => {
                const eventItem = document.createElement('div');
                eventItem.classList.add('event-item');
                eventItem.innerHTML = `
                    <div class="event-card">
                        <div class="event-card-header">
                            <h5>${event.name}</h5>
                            <span>${event.eventType}</span>
                        </div>
                        <div class="event-card-body">
                            <p>${event.description}</p>
                            <p><strong>Organizer:</strong> ${event.organizer}</p>
                            <p><strong>Date:</strong> ${event.date}</p>
                            <p><strong>Time:</strong> ${event.startTime} - ${event.endTime}</p>
                            <p><strong>Register By:</strong> ${event.registerDeadline}</p>
                            <p><strong>Status:</strong> ${event.status}</p>
                        </div>
                    </div>
                `;
                eventCarousel.appendChild(eventItem);
            });

            $('.owl-carousel').owlCarousel({
                items: 1,  // Show 1 event at a time
                loop: true,
                nav: true,
                dots: true,
            });
        } catch (error) {
            console.error('Error fetching events:', error);
        }
    }

    // Fetch and display events when the page loads
    window.onload = function () {
        fetchEvents();
    };
</script>


<script>
    document.addEventListener('DOMContentLoaded', function() {
    const user = localStorage.getItem("user");

    if (user) {
        const userData = JSON.parse(user); // Parse the stored JSON string to an object
        console.log("Stored User Session:", userData);
        
        const userId = userData.id; // Access the id property of the user
        console.log("User ID:", userId);
        
        fetch(`http://localhost:8080/Students/byUser/${userId}`)
            .then(response => response.json())
            .then(studentData => {
                // Log the relevant student details, specifically the studentID
                const studentId = studentData.studentID;
                console.log("Student Data:", studentData);
                console.log("Student ID:", studentId); // Extract studentID from the response

                // Now fetch the groups associated with the studentId
                return fetch(`http://localhost:8080/api/groups/student/${studentId}`);
            })
            .then(response => response.json())
            .then(groups => {
                console.log("Groups Data:", groups);
                
                // Create a container to append the group cards
                const groupContainer = document.querySelector('.group-container'); // Ensure you have a div with this class in your HTML

                // Clear any existing content in the container
                groupContainer.innerHTML = '';

                // Iterate through the groups and create the cards
                groups.forEach(group => {
                    // Create the group card
                    const groupCard = document.createElement('div');
                    groupCard.classList.add('group-card-small');
                    groupCard.setAttribute('data-group-id', group.groupId);

                    // Create the header of the group card (Group Name)
                    const groupHeader = document.createElement('div');
                    groupHeader.classList.add('group-card-header-small');
                    groupHeader.textContent = group.groupName;

                    // Create the body of the group card
                    const groupBody = document.createElement('div');
                    groupBody.classList.add('group-card-body-small');

                    // Add the description of the group
                    const groupDescription = document.createElement('p');
                    groupDescription.classList.add('mb-1', 'text-muted', 'small');
                    groupDescription.textContent = group.description;
                    groupBody.appendChild(groupDescription);

                    // Create the container for group members
                    const groupMembers = document.createElement('div');
                    groupMembers.classList.add('group-members-small');

                    // Add members to the group card
                    group.members.forEach(member => {
                        const memberDiv = document.createElement('div');
                        memberDiv.classList.add('group-member-small');

                        const memberImg = document.createElement('img');
                        memberImg.src = "img/profile.png"; // Replace with the actual profile image if available
                        memberImg.alt = `${member.user.firstName} ${member.user.lastName}`;
                        memberDiv.appendChild(memberImg);

                        groupMembers.appendChild(memberDiv);
                    });

                    // Add the member count
                    const memberCount = document.createElement('div');
                    memberCount.classList.add('group-member-count-small');
                    memberCount.textContent = `+${group.members.length}`;
                    groupMembers.appendChild(memberCount);

                    // Append all elements to the group card body
                    groupBody.appendChild(groupMembers);
                    
                    // Append the header and body to the group card
                    groupCard.appendChild(groupHeader);
                    groupCard.appendChild(groupBody);

                    // Finally, append the group card to the container
                    groupContainer.appendChild(groupCard);
                });
            })
            .catch(error => {
                console.error("Error:", error);
            });
    } else {
        console.log("No user session found.");
    }
});

</script>

</body>
</html>
